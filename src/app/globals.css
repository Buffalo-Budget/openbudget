@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-black font-mono text-neutral-400 m-0 p-8 flex flex-col items-center relative;
  }
}

@layer components {
  .tabs {
    @apply fixed top-0 left-0 right-0 bg-neutral-900 flex justify-center z-10;
    border-bottom: 2px dashed #555;
  }

  .tab {
    @apply px-8 py-4 cursor-pointer text-neutral-400 border-b-2 border-transparent;
  }

  .tab.active {
    @apply border-cyan-400 text-cyan-400;
  }

  .tab:hover {
    @apply bg-neutral-800;
  }

  .view {
    @apply hidden p-8;
  }

  .view.active {
    @apply block;
  }

  .perforation {
    @apply fixed top-0 bottom-0 w-5 flex flex-col items-center justify-between py-2 z-0 pointer-events-none;
  }

  .hole {
    @apply w-1.5 h-1.5 rounded-full bg-black border border-neutral-400;
  }

  .perforation.left {
    @apply left-0;
    border-right: 2px dashed #555;
  }

  .perforation.right {
    @apply right-0;
    border-left: 2px dashed #555;
  }

  #d3-budget {
    @apply relative z-10 max-w-4xl w-full;
    font-family: 'Share Tech Mono', monospace;
  }

  h1 {
    @apply text-center text-green-500 text-2xl pb-2;
    font-family: 'Share Tech Mono', monospace;
    border-bottom: 2px dashed #0f0;
  }

  h2 {
    @apply text-xl py-2 my-8 mb-4 text-green-500 uppercase;
    border-top: 2px dashed #fff;
    border-bottom: 2px dashed #fff;
  }

  details summary {
    @apply py-1 text-cyan-400 font-bold uppercase cursor-pointer;
    border-bottom: 1px dashed #999;
  }

  details summary:hover {
    @apply bg-neutral-900;
  }

  .ascii-box {
    @apply p-4 my-2 bg-neutral-900;
    border: 1px dashed #999;
  }

  .progress-bar-container {
    @apply h-2.5 bg-black overflow-hidden my-1;
    border: 1px dashed #aaa;
  }

  .progress-bar-inner {
    @apply h-2.5 bg-cyan-400;
  }

  .progress-label {
    @apply text-xs text-neutral-400;
  }

  .overage-bar {
    @apply h-2.5 mt-0.5 bg-black overflow-hidden;
    border: 1px dashed #666;
  }

  .overage-inner {
    @apply h-2.5;
    background: #f76400;
  }

  footer {
    @apply mt-16 text-center text-xs text-neutral-600 whitespace-pre-wrap font-mono bg-black px-8 py-4;
    min-height: 3.5rem;
  }

  #cypher-footer {
    @apply font-mono whitespace-pre text-neutral-400 bg-black p-4 text-center;
    border-top: 2px solid #ccc;
  }

  .ascii-header {
    @apply text-center text-xl text-green-500 my-8 mb-4 whitespace-pre;
    font-family: 'Share Tech Mono', monospace;
  }

  tr:hover {
    @apply bg-neutral-900;
  }

  .expand-icon {
    @apply inline-block transition-transform duration-200 ease-in-out;
  }

  .employee-row + tr .expand-icon {
    @apply rotate-90;
  }

  #department-output, #d3-budget-appropriations, #d3-budget-revenues {
    @apply max-w-screen-xl px-4 box-border overflow-x-hidden;
  }

  #department-output > div,
  #department-output table {
    @apply w-full max-w-full overflow-x-auto box-border;
  }

  #department-output > div {
    @apply overflow-x-auto;
    -webkit-overflow-scrolling: touch;
  }

  #department-output table th,
  #department-output table td {
    @apply break-words whitespace-normal;
  }

  .budget-table-wrapper {
    @apply w-full overflow-x-auto;
    -webkit-overflow-scrolling: touch;
  }

  .progress-cell {
    @apply p-1.5 min-w-[100px] w-1/4 max-w-40;
  }
}

@media (max-width: 480px) {
  #department-output table {
    @apply text-sm;
  }
  #department-output table th,
  #department-output table td {
    @apply px-1.5 py-1;
  }
}
